---
title: 从壹开始的博客生活
date: 2025-03-03 18:30:30
updated: 2025-03-09 18:30:30
tags:
  - blog
  - 生活
  - 技术
  - 思考
categories:
  - 从零开始的博客生活
---
## **从零到壹**
用了10天**hexo框架**和**yun主题**，感觉已经弄懂了需要的操作和部分代码。因为在云游君（主题作者）的群里看到有人吐槽hexo，突然就想要不我也换成Valaxy好了，就再去看了一下[Valaxy官网](https://valaxy.site/)，发现已经基本能看懂了。
<!-- more -->
::: danger

还没写完！慎看！

:::
个人对我的hexo博客的不满主要包括以下几点：
- **速度**确实很慢，想要部署博客，在git里输入经典的`hexo c`、`hexo g`、`hexo d`，清理、生成静态文件、部署，经常要半天才跑完
- **预览**在本地不能实时实现，只能在Obsidian写完之后，用`hexo s`（也要等半天）在网页上看
- **加载**速度一般，载图经常失败，长文（1w字以上）浏览会卡顿，有很多小标题的长目录跳转也总跳不到精确的地方
- **主题**作者明确说了不会再更新，所以后续我的博客主题也不会有什么升级（没打算换主题）

综上所述，体验一般，决定换框架——当然，最大原因还是做我的学习笔记不够爽。
## **Valaxy & yun**

**Valaxy**的[亮点](https://valaxy.site/guide/features)，没做博客之前我是没怎么看懂的。后面我看懂了这里面大部分名词之后，感觉确实要好用得多，比如热更新实时预览，更高的自定义度，更多的Markdown扩展等。因为我不考虑其他主题，自然也就没考虑其他框架（看都没看）。文档中[为什么选Valaxy](https://valaxy.site/guide/why)部分列出的理由也很动人，而且感觉作者因为现有框架不合心意就自己写了一个框架**真的很酷**👍。

**yun**主题非常合我心意。我喜欢**水色**，喜欢**简洁有美感的页面**，喜欢自定义每次刷新都可以随机的生成**语句**，字体的选择等也符合我的**审美**。对模块我的要求是够用就行，我不喜欢太过花里胡哨的那种，有过多的封面、板块和类似幼圆的字体应该算是我最难以阅览的类型。虽说我最初选这个主题别有理由，但最近大概在Travelling里面跳转了100+的博客，确实最喜欢这个主题，大抵这也是命运石之门的选择吧（喂）。

仔细看了Valaxy的文档，发现还可以实现**给文章加密、置顶文章**，那很好了，开干。过程中除了官方文档，还参考了[Yuumi’s Blog](https://www.yuumi.link/posts/valaxy)、[krau’s Blog](https://krau.top/posts/hexo-migrate-to-valaxy)的相关文章，是从hexo-theme-yun那边的示例站点顺藤摸瓜找到的（是的，我把所有的示例站点都扫了一遍），感谢指导。
### 我遇到的问题
#### 开屏动画
我对hexo-theme-yun的开屏动画**有执着**，也不喜欢网格背景，但没找到在哪更换。本来都在想要不干脆换回去用hexo得了（是的，就为这个），结果找到了[主题文档](https://github.com/YunYouJun/valaxy/blob/main/packages/valaxy-theme-yun/types/index.d.ts)，发现在`valaxy.config.ts`里输入`type: 'strato'`就可以了，藏挺深，美美开用。
#### 热更新
不知道为什么实现不了热更新，每次都要`Ctrl+C`再输入`pnpm dev`才能成功更新。出于我对“**不求人做完这个博客**”的执念，研究了半天。

先是从DS那边问出来几种可能的原因。关了RAV的实时保护，没用。下了个东西（忘了叫什么了，跟DS的那段聊天太乱了被我删了），验证电脑本身的监听是可以正常进行的，问题出在**Vite**。

```js
// vite.config.ts
import { defineConfig } from 'vite'

export default defineConfig({
  server: {
    watch: {
      // 强制启用轮询模式（针对 WSL2/Windows）
      usePolling: true,
      interval: 1000,
      // 显式指定监听目录
      ignored: [
        '!**/pages/**',   // 监控文章目录
        '!**/valaxy.config.*' // 监控配置文件
      ]
    }
  }
}) 
```
这是DeepSeek写的，加进去就终于成功了。虽然说着简单，但是其实不太好问出来就是了。

新建这篇文章的时候又失效一次，问了DS没答出个所以然，删除依赖再重装大法解决了一次之后又出现了，这回用了下面这段之后post的Header突然会出现在正文了，而且vite还是没活，好崩溃。
```bash
# 彻底清除所有依赖痕迹 rm -rf node_modules .vite .valaxy 
rm -f pnpm-lock.yaml 
# 重新安装并锁定版本 
pnpm install --force
```
`pnpm creat valaxy`建了一个新的项目测试，还是一样的问题。想到从GitHub下载下午上传的版本，然后再`pnpm i`、`pnpm dev`了一下，就神奇的页头也好了，vite也活了。一开始用VS Code写的，结果后面打开Obsidian写这篇忘了换仓库，写半天没更新，还以为vite又死了。后面把`vite.config.ts`改了，又没实现热更新，不懂为什么，又解压一次，这次只覆盖page和public文件夹，活了。`Ctrl+C`、`pnpm dev`，还活着，也就是说其实`vite.config.ts`不应该改吗（见下文Footer）……是不限定的话文件太多监听不过来？不过反正能用就行，出问题了再看吧。
#### issue
![本地图片](/images/issue.png) 
自定义的say上面出现了多余横线，感觉确实像是bug就问了一下作者，然后得到了“可能是 bug 忘记处理了 来个 issue 晚上修“的回复，完全不知道怎么“来个`issue`”的我选择了问DeepSeek怎么在GitHub提交issue，草。最后顺利提交人生第一个issue，也不知道格式到底对没对。
#### 部署
部署到GitHub Pages，怎么访问都是README文档。最后往上翻git的代码才知道我从hexo换过来的图片文件地址要改，是因为这个没法正确构建。
#### gitgnore
测试上面到底是啥问题的时候，这个文件丢失了（没主动删），然后git冒出一大长串warning，后面问了DS说我可能gitgnore没设置好，然后才发现没了这个文件。重新新建了一个Valaxy项目，然后把文件复制过来就解决了。
#### GitHub Action
![本地图片](/images/error.png) 
用npm无法`Build Valaxy Blog`，报了一个错，调试了半天，后面发现换成pnpm就可以了。
#### Waline
我按照[Waline](https://waline.js.org/guide/get-started/)官方的教程部署的，最后出来的网址加载不出来（因为没有科学上网），以为自己弄错了又做了一次，结果给了我2个Domains，我复制了不能用的那一个，所以装好了也没法正常评论，后面换了就好了。

然后Waline的一行表情reaction我觉得有点又土又丑了……想关掉但是没找到教程，就在`valaxy.config.ts`的插件部分里面加了个`reaction: false`试试，果然可以。但是VS Code给我报错，我就叫DS给我加了一行，好了。
```js
    addonWaline({

      // @ts-expect-error - Waline 类型定义未更新

      reaction: false,

      pageview: false

    }),
```
#### Footer
因为想自定义页脚，把运行时间和访客加上，看主题官方的教程写了一下，结果一直没显示。

回顾一下我加的`vite.config.ts`。
```js{11}
// vite.config.ts
import { defineConfig } from 'vite'

export default defineConfig({
  server: {
    watch: {
      // 强制启用轮询模式（针对 WSL2/Windows）
      usePolling: true,
      interval: 1000,
      // 显式指定监听目录
      ignored: [
        '!**/pages/**',   // 监控文章目录
        '!**/valaxy.config.*' // 监控配置文件
      ]
    }
  }
}) 
```
>用户的配置中`ignored`使用了否定模式（`!`开头），表示不忽略这些路径。所以原来的配置是“除了pages和valaxy.config之外的所有文件都被忽略”。现在用户想取消这些忽略，即不忽略任何文件，应该将`ignored`设置为空数组，或者移除该选项，以使用Vite的默认忽略规则，但排除用户之前添加的例外。

原来我的自定义页脚不生效是因为这个吗？但我之前看了[这个](https://github.com/YunYouJun/valaxy/blob/main/packages/valaxy-addon-components/README.zh-CN.md)把页脚命名为`MyFooter.vue`而不是`YunFooter.vue`，也有可能是因为这个？感觉更像是这个原因，因为`MyFooter.vue`其实写好几天了，都没生效，改了名字再重新预览一次就好了，不像是热更新的问题，而且官方文档也没提到组件也会热更新。不过我的本地图片加进去无法预览应该就是因为这个没错了，把图片目录加进去，果然可以了。
![本地图片](/images/ceshi.png) 
另外，其实之前在hexo博客也加过**不蒜子**在页脚，但显示超多访问量，我以为我设置的有问题就删了，现在后知后觉原来是本地网址大家都一样，所以访问量多是正常的……要部署完才显示自己的网站的访问量。

感觉像这样自己排查问题还是有点难度的。不过最后能自己解决就很有**成就感！**
### 我的博客生活
从Travelling看了好多博客，一般都是**程序员或者玩MC的高中生**（我要形成刻板印象了，其中一大部分还玩原神）。大部分我都是随便看看**主页**和**关于**，不感兴趣就继续开往别的博客。3.5突然随到了一个医学生，然后从他的友链摸到了更多医学生，很稀奇。看了其中一些文章，令人瞠目结舌的自由程度。我感觉在任何公开的地方说自己的情感经历都超勇的，还讲的非常详细，甚至有些还配图，实在是令人佩服佩服（没有恶意）。

我不擅长也没啥兴趣教人东西（这是真的），所以应该不可能成为技术型的博客。

接下来我想写的文章主题如下：
- 看过的动画
- 玩过的游戏
- 喜欢的歌曲
- 旅行的记录
- 整理作品集
- 无纸化学习

要是哪天我死了，这博客作为我的电子墓碑也不错。如果到时候还有这个想法，我会立遗嘱叫人维护的。